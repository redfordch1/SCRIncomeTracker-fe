(this.webpackJsonpscrincometracker=this.webpackJsonpscrincometracker||[]).push([[0],{32:function(e,t,a){},33:function(e,t,a){},37:function(e,t,a){e.exports=a(72)},42:function(e,t,a){},43:function(e,t,a){},62:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(19),r=a.n(c),l=(a(42),a(1)),s=(a(43),a(3)),m=a(12),i=a(6),u=a.n(i),p=a(17),h=a(5);a(62);var d=function(e){var t=Object(p.a)(),a=t.handleSubmit,c=t.register,r=t.errors,i=Object(n.useState)({username:"",password:""}),d=Object(l.a)(i,2),f=d[0],g=d[1];function E(e){g(Object(m.a)(Object(m.a)({},f),{},Object(s.a)({},e.target.name,e.target.value)))}return o.a.createElement("form",{className:"register_form",onSubmit:a((function(t){u.a.post("https://cosmoincometrackerbe.herokuapp.com/api/users/register",t).then((function(t){e.history.push("/Login")})).catch((function(e){console.log(e)}))}))},o.a.createElement("h1",{className:"register_h1"},"Sign Up"),o.a.createElement("div",null,o.a.createElement("div",{className:"register_username_password"},o.a.createElement("label",{className:"register_label"},"USERNAME"),o.a.createElement("input",{className:"register_input",name:"username",placeholder:"Username",value:f.username,onChange:E,ref:c({required:!0,minLength:4,maxLength:20})}),r.username&&"Username to short!"),o.a.createElement("div",{className:"register_username_password"},o.a.createElement("label",{className:"register_label"},"PASSWORD"),o.a.createElement("input",{className:"register_input",name:"password",type:"password",placeholder:"Password",value:f.password,onChange:E,ref:c({required:!0,minLength:4,maxLength:20})}),r.password&&"Password to short!")),o.a.createElement("button",{className:"register_button",type:"submit"},"Submit"),o.a.createElement("p",{className:"register_form_Link"},"Already have an account? ",o.a.createElement(h.b,{to:"/login"},"Log in")))},f=function(){var e=localStorage.getItem("token");return u.a.create({baseURL:"https://cosmoincometrackerbe.herokuapp.com",headers:{Authorization:e}})};a(68);var g=function(e){var t=Object(p.a)(),a=t.register,c=t.handleSubmit,r=t.errors,i=Object(n.useState)({username:"",password:""}),u=Object(l.a)(i,2),d=u[0],g=u[1];function E(e){g(Object(m.a)(Object(m.a)({},d),{},Object(s.a)({},e.target.name,e.target.value)))}return o.a.createElement("form",{className:"login_form",onSubmit:c((function(){f().post("/api/users/login",d).then((function(t){localStorage.setItem("token",t.data.token),localStorage.setItem("userID",t.data.user_id),e.history.push("/")})).catch((function(e){alert("".concat(e," Invalid username or password"))}))}))},o.a.createElement("h1",{className:"login_h1"},"Sign in"),o.a.createElement("div",null,o.a.createElement("div",{className:"login_username_password"},o.a.createElement("label",{className:"login_label"},"USERNAME"),o.a.createElement("input",{className:"login_input",name:"username",value:d.username,placeholder:"Username",onChange:E,ref:a({required:!0,minLength:4,maxLength:20})}),r.username&&o.a.createElement("p",{className:"error"},"It must be a valid username")),o.a.createElement("div",{className:"login_username_password"},o.a.createElement("label",{className:"login_label"},"PASSWORD"),o.a.createElement("input",{className:"login_input",name:"password",type:"password",value:d.password,placeholder:"Password",onChange:E,ref:a({required:!0,minLength:4,maxLength:20})}),r.password&&o.a.createElement("p",{className:"error"},"It must be a valid password"))),o.a.createElement("button",{className:"login_button",type:"submit"},"Log in"),o.a.createElement("p",{className:"login_form_Link"},"Don't have an account? ",o.a.createElement(h.b,{to:"/Register"},"Sign Up")))};a(69);var E=function(e){return e.isLoggedIn?o.a.createElement("div",{className:"nav_parent"},o.a.createElement(h.b,{className:"nav_links",to:"/"},"Day Totals"),o.a.createElement(h.b,{className:"nav_links",to:"/MonthTotals"},"Month Totals"),o.a.createElement(h.b,{className:"nav_links",onClick:function(t){t.preventDefault(),console.log("LOGGING OUT"),localStorage.removeItem("token"),localStorage.removeItem("userID"),e.setIsLoggedIn(!1),window.location.reload()},to:"/"},"Log Out")):o.a.createElement("div",{className:"nav_parent"},o.a.createElement(h.b,{className:"nav_links",to:"/Register"},"Register"),o.a.createElement(h.b,{className:"nav_links",to:"/Login"},"Login"))};a(70);var b=function(e){var t=localStorage.getItem("userID"),a=(new Date).toLocaleString("en-US",{timeZone:"America/Denver"}),c=Object(n.useState)({user_id:t,total_for_day:0,date:a}),r=Object(l.a)(c,2),i=r[0],p=r[1];return o.a.createElement("form",{className:"create_total_form",onSubmit:function(t){t.preventDefault(),u.a.post("https://cosmoincometrackerbe.herokuapp.com/api/totals",i).then((function(t){console.log(t),e.history.push("/")})).catch((function(e){console.log(e)}))}},o.a.createElement("div",{className:"create_total_parent"},o.a.createElement("label",{className:"create_total_label"},"CREATE A TOTAL"),o.a.createElement("input",{className:"create_total_input",name:"total_for_day",placeholder:"0.00",value:i.name,onChange:function(e){p(Object(m.a)(Object(m.a)({},i),{},Object(s.a)({},e.target.name,e.target.value)))}})),o.a.createElement("button",{id:"primaryButton",className:"create_total_button",type:"submit"},"Create"))};a(32);var _=function(e){return o.a.createElement("div",{className:"main_card"},o.a.createElement("p",null,e.date),o.a.createElement("p",null,"$",e.totals))},v=(a(33),a(35));a(71);function N(e){var t,a=localStorage.getItem("userID"),c=Object(n.useState)([]),r=Object(l.a)(c,2),s=r[0],m=r[1],i=Object(n.useState)([]),p=Object(l.a)(i,2),d=p[0],f=p[1],g=[],E=(new Date).toLocaleString("en-US",{timeZone:"America/Denver"});Object(n.useEffect)((function(){u.a.get("https://cosmoincometrackerbe.herokuapp.com/api/users/".concat(a)).then((function(t){m(t.data),e.setIsLoggedIn(!0)})).catch((function(e){console.log(e)}))}),[a]),Object(n.useEffect)((function(){u.a.get("https://cosmoincometrackerbe.herokuapp.com/api/totals/".concat(a)).then((function(e){f(e.data)})).catch((function(e){console.log(e)}))}),[a]);var b=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2});d.map((function(e){var a=0;g.push(e.total_for_day),g.forEach((function(e){t=a+=e}))}));var N=function(){u.a.delete("https://cosmoincometrackerbe.herokuapp.com/api/totals/".concat(a)).then((function(e){console.log(e),u.a.get("https://cosmoincometrackerbe.herokuapp.com/api/totals/".concat(a)).then((function(e){f(e.data)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},k=b.format(t),O={user_id:a,total_for_month:k,date:E};return g.length?o.a.createElement("div",null,o.a.createElement("div",{className:"parent_title_link"},o.a.createElement("h2",{className:"user_title"},"Totals for ",s.username),o.a.createElement(h.b,{className:"create_total_link",to:"/CreateTotal"},"Create Total")),o.a.createElement("div",{className:"all_cards"},d.map((function(e){return o.a.createElement(_,{key:e.id,totals:e.total_for_day,date:e.date})}))),o.a.createElement("p",{className:"final_total"},"Final Total: ",k),o.a.createElement("div",{className:"button_parent"},o.a.createElement("button",{onClick:function(){u.a.post("https://cosmoincometrackerbe.herokuapp.com/api/month",O).then((function(t){e.history.push("/MonthTotals")})).catch((function(e){console.log(e)}))},className:"final_total_button",type:"submit"},"Save Final Total For Month"),o.a.createElement("button",{onClick:function(){Object(v.confirmAlert)({customUI:function(e){var t=e.onClose;return o.a.createElement("div",{className:"custom-ui"},o.a.createElement("h1",null,"Are you sure?"),o.a.createElement("p",null,"You want to delete all totals?"),o.a.createElement("button",{className:"modal_button1",onClick:t},"No"),o.a.createElement("button",{className:"modal_button2",onClick:function(){N(),t()}},"Yes, Delete!"))}})},className:"delete_button",type:"submit"},"Delete All Totals"))):o.a.createElement("div",null,o.a.createElement("div",{className:"parent_title_link"},o.a.createElement("h2",{className:"user_title"},"Totals for ",s.username),o.a.createElement(h.b,{className:"create_total_link",to:"/CreateTotal"},"Create Total"),o.a.createElement("div",null,d.map((function(e){return console.log("This --\x3e ",e),o.a.createElement(_,{key:e.id,totals:e.total_for_day,date:e.date})})))),o.a.createElement("p",{className:"final_total"},"Need Totals to add!!!"))}var k=function(e){return o.a.createElement("div",{className:"month_main_card"},o.a.createElement("div",{className:"card_parent"},o.a.createElement("p",{className:"date"},e.date),o.a.createElement("button",{onClick:function(){u.a.delete("https://cosmoincometrackerbe.herokuapp.com/api/month/".concat(e.id)).then((function(e){})).catch((function(e){console.log(e)})).finally((function(){e.setRefresh(!e.refresh)}))},className:"x_delete"},"X")),o.a.createElement("p",null,e.totals))};function O(e){var t=localStorage.getItem("userID"),a=Object(n.useState)([]),c=Object(l.a)(a,2),r=c[0],s=c[1],m=Object(n.useState)([]),i=Object(l.a)(m,2),p=i[0],h=i[1],d=Object(n.useState)(!1),f=Object(l.a)(d,2),g=f[0],E=f[1];return Object(n.useEffect)((function(){u.a.get("https://cosmoincometrackerbe.herokuapp.com/api/users/".concat(t)).then((function(e){s(e.data)})).catch((function(e){console.log(e)}))}),[t]),Object(n.useEffect)((function(){u.a.get("https://cosmoincometrackerbe.herokuapp.com/api/month/".concat(t)).then((function(e){h(e.data)})).catch((function(e){console.log(e)}))}),[g]),p.length?o.a.createElement("div",null,o.a.createElement("div",{className:"month_parent_title_link"},o.a.createElement("h2",{className:"user_title"},"Monthly Totals for ",r.username)),o.a.createElement("div",{className:"month_all_cards"},p.map((function(e){return o.a.createElement(k,{key:e.id,user_ID:t,id:e.id,refresh:g,setRefresh:E,totals:e.total_for_month,date:e.date})})),o.a.createElement("p",{className:"bottom_line"}))):o.a.createElement("div",null,o.a.createElement("div",{className:"month_parent_title_link"},o.a.createElement("h2",{className:"user_title"},"Totals for ",r.username),o.a.createElement("div",null,p.map((function(e){return console.log("This --\x3e ",e),o.a.createElement(k,{key:e.id,user_ID:t,refresh:g,setRefresh:E,totals:e.total_for_month,date:e.date})})))),o.a.createElement("p",{className:"final_total"},"Need Totals!!!"))}var S=a(2),j=a(36),I=function(e){var t=e.component,a=Object(j.a)(e,["component"]);return o.a.createElement(S.b,Object.assign({},a,{render:function(e){return localStorage.getItem("token")?o.a.createElement(t,e):o.a.createElement(S.a,{to:"/Register"})}}))};var w=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1];return o.a.createElement("div",{className:"App"},o.a.createElement("h1",{className:"main_title"},"Sarah's Income Tracker"),o.a.createElement(E,{isLoggedIn:a,setIsLoggedIn:c}),o.a.createElement(I,{exact:!0,path:"/",component:function(e){return o.a.createElement(N,Object.assign({},e,{setIsLoggedIn:c}))}}),o.a.createElement(I,{path:"/MonthTotals",component:O}),o.a.createElement(S.b,{path:"/Register",component:d}),o.a.createElement(S.b,{path:"/Login",component:g}),o.a.createElement(I,{path:"/CreateTotal",component:b}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(h.a,null,o.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.d41d0cbb.chunk.js.map